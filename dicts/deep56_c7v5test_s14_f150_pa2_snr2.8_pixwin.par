#In this test I consider the full map, better pick noise rather than missing point sources at the edges.

unfilteredMaps = [\                                                            
                {'mapFileName': "/data/saiola/depot/src_lists/nemo/deep56_test/maps/deep56_array_2_season2_iqu_c7v5_night_nomoon_1way_azfilt_pertod_final_srcsub_200_I_srcback.fits", \
             'weightsFileName': "/data/saiola/depot/src_lists/nemo/deep56_test/maps/deep56_array_2_season2_iqu_c7v5_night_nomoon_1way_azfilt_pertod_final_srcsub_weights_I.fits", \
                 'obsFreqGHz': 148.0, 'units': 'uK', \
                 'beamFileName': "/data/saiola/depot/Beams/beams_151107_v1/beam_profile_151107_v1_2014_pa2_jitmap_deep56.txt", \
                 'addNoise': None, \
                 #'RADecSection': [169, 235, -3.0, 20], \
                 #'backgroundSubtraction': False, \
                 'pointSourceRemoval': None} \
                  ]


# Detection options
thresholdSigma = 2.8
minObjPix = 1
rejectBorder = 0 #would be nice to calibrate this.
objIdent = 'D56-PA2'
longNames = False
catalogCuts=['SNR > 2.8']
findCenterOfMass = False

mapFilters = [\
               	{'label': "Beam", 'class': "BeamRealSpaceMatchedFilter", \
                 'params': {'noiseParams': {'method': "dataMap", \
                                            'matchedFilterClass': 'BeamMatchedFilter', \
                                            'RADecSection': [26.0, 34.0, -7.0, 1.0], \
                                            'kernelMaxArcmin': 7., \
                                            'noiseGridArcmin': 20., \
                                            #'maxArcmin': 1.8, \
                                            'saveHighPassMap': True, \
                                            'saveRMSMap': True}, \
                            'outputUnits': 'uK', \
                            'mapCombination': {'148': 1.0, 'rootFreqGHz': 148.0}}}, \
             ]

#mapFilters = [\
#               {'label': "Beam", 'class': "BeamRealSpaceMatchedFilter", \
#                'params': {'noiseParams': {'method': "dataMap"}, \
#                           'outputUnits': 'uK', \
#                           'mapCombination': {'148': 1.0, 'rootFreqGHz': 148.0}}}, \
#             ]

# Photometry options
# NOTE: these don't do anything at the moment
photometryOptions = {'apertureRadiusArcmin': 3.0, \
                     'numBackgrounds': 100, \
                     'minBackgroundSepArcmin': 10, \
                     'maxBackgroundSepArcmin': 30}

# These used for comparing simulations against input
# Assuming sim catalog format is plain-text, as fiddled by Ryan
compareToSim = False
noiselessSimMap = "../simMaps/148_full_sz_adiabatic_5RA85_-50DEC-60_muK.fits"
inputSimCatalog = "../simCatalogs/adiabatic_halo_sz_m_gt_5e13_5RA85_-50DEC-60.dat"
minYLimit_arcmin2 = 0.0001
